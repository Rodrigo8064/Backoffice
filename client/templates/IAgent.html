{% extends "base.html" %}

{% block title %}Consulta de Navegation{% endblock %}

{% block content %}

    <ul class="nav nav-tabs mb-3">
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Agente</a>
        </li>
    </ul>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h5 class="card-title">Filtro</h5>
            <form method="GET" class="row g-3 align-items-center">
                <div class="col-auto">
                    <label for="descricao_input" class="col-form-label">Descri√ß√£o:</label>
                </div>
                <div class="col-auto">
                    <input type="text" id="descricao_input" name="descricao" class="form-control" value="{{ request.GET.descricao }}">
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary">Enviar</button>
                </div>
            </form>
        </div>
    </div>

    {% if sugestao %}
    <div class="card shadow-sm mt-4">
        <div class="card-body">
            <h5 class="card-title">üöÄ Sugest√£o da IA:</h5>
            <hr>
            <p><strong>Categoria Sugerida:</strong> {{ sugestao.categoria }}</p>
            <p><strong>Tipo de Produto:</strong> {{ sugestao.tipo_produto }}</p>
            
            {% if sugestao.confianca < 0.5 %}
                <div class="alert alert-warning">
                    ‚ö†Ô∏è <strong>Aten√ß√£o:</strong> A IA tem baixa confian√ßa nesta classifica√ß√£o. Verifique manualmente.
                </div>
            {% endif %}
        </div>
    </div>
    {% elif request.GET.descricao %}
    <div class="alert alert-info mt-4">
        Processando sua sugest√£o...
    </div>
    {% endif %}
{% endblock %}